type Factory @entity(immutable: false) {
  id: ID! 
  poolCount: BigInt!
  pools: [Pool!]! @derivedFrom(field: "factory")
}

type Token @entity(immutable: true) {
  id: ID! 
  decimals: BigInt!
  pools: [Pool!]! @derivedFrom(field: "token0")
  poolsAsToken1: [Pool!]! @derivedFrom(field: "token1")
}

type Pool @entity(immutable: false) {
  id: ID! 
  factory: Factory!
  token0: Token!
  token1: Token!
  fee: BigInt!
  tickSpacing: BigInt!
  liquidity: BigInt!
  sqrtPrice: BigInt!
  tick: BigInt!
  volumeToken0: BigDecimal!
  volumeToken1: BigDecimal!
  swapCount: BigInt!
  createdAtTimestamp: BigInt!
  createdAtBlockNumber: BigInt!
  swaps: [Swap!]! @derivedFrom(field: "pool")
}

type Swap @entity(immutable: true) {
  id: ID!
  transaction: Bytes! 
  timestamp: BigInt!
  blockNumber: BigInt!
  pool: Pool! 
  sender: Bytes!
  recipient: Bytes!
  amount0: BigInt!
  amount1: BigInt!
  sqrtPriceX96: BigInt!
  liquidity: BigInt!
  tick: Int!
  gasUsed: BigInt!
  gasPrice: BigInt!
}


