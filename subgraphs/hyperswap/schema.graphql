type Swap @entity(immutable: true) {
  id: ID!
  transaction: Bytes! # transaction hash
  timestamp: BigInt!
  blockNumber: BigInt!
  pool: Pool! # reference to Pool entity
  sender: Bytes!
  recipient: Bytes!
  amount0: BigInt!
  amount1: BigInt!
  sqrtPriceX96: BigInt!
  liquidity: BigInt!
  tick: Int!
  gasUsed: BigInt!
  gasPrice: BigInt!
}

type Pool @entity(immutable: false) {
  id: ID! # pool address (contract address)
  swapCount: BigInt!
  totalVolumeAmount0: BigInt!
  totalVolumeAmount1: BigInt!
  swaps: [Swap!]! @derivedFrom(field: "pool")
}


